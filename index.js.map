{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport function getImagesByQuery(query) {\n  return axios\n    .get('https://pixabay.com/api/', {\n      params: {\n        key: '50657355-1f50b208caae537516d7ab71b',\n        q: query,\n        orientation: 'horizontal',\n        safesearch: true,\n        image_type: 'photo',\n      },\n    })\n    .then(response => {\n      return response.data.hits.map(hit => ({\n        webformatURL: hit.webformatURL,\n        largeImageURL: hit.largeImageURL,\n        alt: hit.tags,\n        likes: hit.likes,\n        views: hit.views,\n        comments: hit.comments,\n        downloads: hit.downloads,\n      }));\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst ul = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nlet lightbox;\n\nexport function createGallery(images) {\n  let markup = '';\n  images.forEach(image => {\n    markup += `<li class=\"gallery-item\"><a href=\"${image.largeImageURL}\"><img class=\"gallery-img\" src=\"${image.webformatURL}\" alt=\"${image.alt}\"></a><div class=container><div class=\"text-box\"><h3>Likes</h3><p>${image.likes}</p></div><div class=\"text-box\"><h3>Views</h3><p>${image.views}</p></div><div class=\"text-box\"><h3>Comments</h3><p>${image.comments}</p></div><div class=\"text-box\"><h3>Downloads</h3><p>${image.downloads}</p></div></div></li>`;\n  });\n  ul.insertAdjacentHTML('beforeend', markup);\n\n  lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n}\n\nexport function clearGallery() {\n  ul.innerHTML = '';\n  if (lightbox) {\n    lightbox.refresh();\n  }\n}\n\nexport function showLoader() {\n  loader.classList.add('active');\n}\n\nexport function hideLoader() {\n  loader.classList.remove('active');\n}\n","import { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n  clearGallery,\n  showLoader,\n  hideLoader,\n  createGallery,\n} from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\nconst input = form.elements['search-text'];\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const query = input.value.trim();\n\n  if (!query) {\n    return iziToast.error({\n      message: 'Fill in the field!',\n      position: 'topRight',\n    });\n  }\n\n  clearGallery();\n  showLoader();\n  getImagesByQuery(query)\n    .then(images => {\n      if (images.length === 0) {\n        iziToast.error({\n          message: 'Sorry, no images found. Please try again!',\n          position: 'topRight',\n        });\n      } else {\n        createGallery(images);\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        message: `Error: ${error.message}`,\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n\n  input.value = '';\n});\n"],"names":["getImagesByQuery","query","axios","response","hit","ul","loader","lightbox","createGallery","images","markup","image","SimpleLightbox","clearGallery","showLoader","hideLoader","form","input","event","iziToast","error"],"mappings":"+vBAEO,SAASA,EAAiBC,EAAO,CACtC,OAAOC,EACJ,IAAI,2BAA4B,CAC/B,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,YAAa,aACb,WAAY,GACZ,WAAY,OACb,CACP,CAAK,EACA,KAAKE,GACGA,EAAS,KAAK,KAAK,IAAIC,IAAQ,CACpC,aAAcA,EAAI,aAClB,cAAeA,EAAI,cACnB,IAAKA,EAAI,KACT,MAAOA,EAAI,MACX,MAAOA,EAAI,MACX,SAAUA,EAAI,SACd,UAAWA,EAAI,SAChB,EAAC,CACH,CACL,CCrBA,MAAMC,EAAK,SAAS,cAAc,UAAU,EACtCC,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CACpC,IAAIC,EAAS,GACbD,EAAO,QAAQE,GAAS,CACtBD,GAAU,qCAAqCC,EAAM,aAAa,mCAAmCA,EAAM,YAAY,UAAUA,EAAM,GAAG,qEAAqEA,EAAM,KAAK,oDAAoDA,EAAM,KAAK,uDAAuDA,EAAM,QAAQ,wDAAwDA,EAAM,SAAS,uBACza,CAAG,EACDN,EAAG,mBAAmB,YAAaK,CAAM,EAEzCH,EAAW,IAAIK,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GAClB,CAAG,CACH,CAEO,SAASC,GAAe,CAC7BR,EAAG,UAAY,GACXE,GACFA,EAAS,QAAO,CAEpB,CAEO,SAASO,GAAa,CAC3BR,EAAO,UAAU,IAAI,QAAQ,CAC/B,CAEO,SAASS,GAAa,CAC3BT,EAAO,UAAU,OAAO,QAAQ,CAClC,CCvBA,MAAMU,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQD,EAAK,SAAS,aAAa,EAEzCA,EAAK,iBAAiB,SAAUE,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMjB,EAAQgB,EAAM,MAAM,KAAI,EAE9B,GAAI,CAAChB,EACH,OAAOkB,EAAS,MAAM,CACpB,QAAS,qBACT,SAAU,UAChB,CAAK,EAGHN,IACAC,IACAd,EAAiBC,CAAK,EACnB,KAAKQ,GAAU,CACVA,EAAO,SAAW,EACpBU,EAAS,MAAM,CACb,QAAS,4CACT,SAAU,UACpB,CAAS,EAEDX,EAAcC,CAAM,CAE5B,CAAK,EACA,MAAMW,GAAS,CACdD,EAAS,MAAM,CACb,QAAS,UAAUC,EAAM,OAAO,GAChC,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbL,GACN,CAAK,EAEHE,EAAM,MAAQ,EAChB,CAAC"}